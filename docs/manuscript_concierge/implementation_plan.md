# 原稿進行コンシェルジュ 実装計画

## 概要
同人誌や個人制作の原稿の進捗を管理し、キャラクター（コンシェルジュ）がサポートしてくれるWebアプリケーションを開発します。
技術スタックは React, Tailwind CSS, Firebase です。

## ユーザーレビューが必要な項目
> [!IMPORTANT]
> - **Node.jsの環境について**: 現在のターミナル環境で `npx` コマンドが見つかりませんでした（Node.js環境がないかパスが通っていません）。Vite を用いた React 開発環境を構築するため、私の方で手動で `package.json` などの構成ファイルを作成します。後ほど、Node.js がインストールされた環境にて `npm install` および `npm run dev` を実行していただく想定で進めてよいか確認させてください。（もしCDNを利用したビルドなしの構成が良い場合はお知らせください）
> - **Firebaseの設定**: 匿名認証と Firestore を使用するため、Firebase Console にて対象プロジェクトを作成していただき、Webアプリの構成情報（`firebaseConfig` オブジェクト）をご提供いただく必要があります。

## 追加する主要なファイルと構成
### [/Users/kageking/Documents/GitHub/kageticasite/lab/manuscript_concierge] 以下に作成
#### [NEW] package.json
React, Tailwind CSS, Firebase, Lucide React 等の依存関係を定義します。
#### [NEW] vite.config.js
Vite のビルド設定を行います。
#### [NEW] index.html
SPAのエントリポイントとなる HTML ファイルです。
#### [NEW] src/main.jsx
React アプリケーションのマウントと初期設定を行います。
#### [NEW] src/App.jsx
状態（画面切り替え、進捗、コンシェルジュ設定）を管理するメインコンポーネントです。
#### [NEW] src/firebase.js
提供いただく Firebase の初期化情報をもとに、Firestore と Auth の準備を行います。

## 画面・機能の実装方針
1. **ダッシュボード画面**:
   - サマリー表示（残り日数、ペース計算）
   - コンシェルジュ表示（画像＋状況・ランダムメッセージの切り替え）
   - 進捗チェックリスト UI（工程ごとに入力）
2. **プロジェクト設定画面**:
   - 種別（漫画/小説）、総数、開始日、締切日の入力フォーム。
3. **コンシェルジュ設定画面**:
   - 状態（default, good, panic, success）別の画像登録とメッセージ登録。
   - Canvas API を用いたブラウザ側での画像リサイズ（長辺最大400px）と WebP 高圧縮変換処理。
4. **ロジック・ステータス計算**:
   - 経過日数、残り日数、現在ペース、必要ペースを算出し、`status`（通常・順調・ピンチ・完了）を返すロジック。
   - メッセージ変数の展開処理および20%の確率で発動する吉日判定処理の実装。

## 検証計画
### マニュアルテスト
1. 必要な環境（Node.js）でアプリを起動し、「プロジェクト設定」と「コンシェルジュ設定」を行う。
2. コンシェルジュ画像をアップロードし、WebP化・リサイズ処理が正常に実行され保存されるか確認する。
3. 進捗チェックの数値を変更し、設定した各ステータス（完了、ピンチ、順調など）の条件に応じてコンシェルジュの画像およびセリフが正しく切り替わるか目視で確認する。
4. Firebase への匿名認証でのログインと、Firestore への設定・進捗データの同期が正しく行われるか確認する。
